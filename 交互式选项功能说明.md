# 🎯 交互式选项功能说明

## ✨ 功能概述

现在智能体在信息收集时，会**直接提供选项按钮**，用户只需点击选择，无需手动输入！

## 🎨 用户体验对比

### 之前（手动输入）
```
AI: 请问你的目标受众是什么？
用户: [手动输入] 30到40岁的职场女性
```

### 现在（选项选择）
```
AI: 请问你的目标受众是什么？请从以下选项中选择：

[选项按钮] 30-40岁职场女性
[选项按钮] 25-35岁都市白领
[选项按钮] 18-28岁大学生/刚毕业
[选项按钮] 35-45岁宝妈
[选项按钮] 40-50岁中年男性
[选项按钮] 20-30岁创业者
[选项按钮] 其他（请描述）

用户: [点击按钮] → 自动发送 "30-40岁职场女性"
```

## 🔧 技术实现

### 1. 后端解析选项

AI 回复中包含 `[OPTIONS_JSON]` 标记：
```
[OPTIONS_JSON]
{"question": "你的目标受众是什么？", "options": [{"label": "30-40岁职场女性", "value": "30-40岁职场女性"}, ...]}
[/OPTIONS_JSON]
```

后端自动：
- 解析 JSON 选项
- 保存到 `messages.interactive_options` 字段
- 从回复内容中移除 JSON 标记

### 2. 前端显示选项

前端自动：
- 检测消息中的 `interactiveOptions`
- 显示为卡片式选项按钮
- 用户点击后自动发送对应的值

### 3. 提示词模板

提示词模板已更新，要求 AI：
- 每次提问必须提供 5-10 个选项
- 使用 `[OPTIONS_JSON]` 标记包裹选项
- 选项要具体、有代表性

## 📋 支持的选项类型

### 1. 目标受众
- 30-40岁职场女性
- 25-35岁都市白领
- 18-28岁大学生/刚毕业
- 35-45岁宝妈
- 40-50岁中年男性
- 20-30岁创业者
- 其他

### 2. 行业/产品
- 美妆护肤
- 教育培训
- 科技产品
- 生活方式/健康
- 时尚穿搭
- 美食餐饮
- 旅游出行
- 其他

### 3. 核心目标
- 提升品牌认知
- 促进产品销售
- 教育用户
- 建立信任
- 增加粉丝
- 提高转化率
- 其他

### 4. 情绪弧线
- 好奇→共鸣→向往
- 共鸣→惊讶→行动
- 怀旧→感动→行动
- 好奇→震惊→分享
- 共鸣→焦虑→解决
- 其他

### 5. 内容类型
- 短视频脚本
- 小红书笔记
- 公众号文章
- 抖音短视频
- 微博文案
- 其他

## 🎯 使用场景

### 场景1：文案选题助手

1. 用户：我要写一篇文案
2. AI：显示目标受众选项（7个选项）
3. 用户：点击 "30-40岁职场女性"
4. AI：显示行业选项（8个选项）
5. 用户：点击 "美妆护肤"
6. ...继续选择
7. AI：生成选题方案

### 场景2：其他智能体

任何需要收集信息的智能体都可以使用这个功能：
- 产品设计助手 → 选择产品类型
- 营销策划助手 → 选择营销目标
- 内容创作助手 → 选择内容形式

## 🔄 工作流程

```
用户发送消息
    ↓
AI 分析需要收集的信息
    ↓
AI 生成选项（5-10个）
    ↓
后端解析选项 JSON
    ↓
前端显示选项按钮
    ↓
用户点击选项
    ↓
自动发送选项值
    ↓
AI 继续下一个问题
```

## 💡 优势

1. **用户体验更好**：无需手动输入，点击即可
2. **信息更准确**：选项标准化，避免输入错误
3. **速度更快**：选择比输入快得多
4. **更专业**：选项经过优化，覆盖常见场景

## 🛠️ 自定义选项

如果需要为其他智能体添加选项功能：

1. 在提示词模板中要求 AI 生成选项
2. 使用 `[OPTIONS_JSON]` 标记包裹
3. 前端会自动显示选项按钮

## 📝 注意事项

- 选项数量建议：5-10 个（太少不够全面，太多选择困难）
- 必须包含"其他"选项，允许用户自定义输入
- 选项要具体、有代表性，避免模糊选项

## ✅ 完成！

现在你的智能体支持选项式交互了！用户体验大幅提升！

