# PersonaCraft AI 知识库优化功能使用说明

## ⚠️ 重要提示
**此功能仅限管理员使用，位于管理后台中。**

## 功能位置

### 1. 管理后台导航
1. 使用管理员账号登录系统
2. 访问管理后台：`http://localhost:4000/admin` 或点击"返回用户端"旁边的管理入口
3. 在管理后台的左侧导航菜单中，您会看到以下菜单项：
   - 📊 数据概览
   - 👥 用户管理
   - 🤖 智能体管理
   - 👨‍👩‍👧‍👦 群组管理
   - 🔄 工作流
   - 💡 提示模板
   - 🗄️ 知识库
   - ✨ **知识库优化** ← 这是新功能入口（PersonaCraft AI）
   - 📋 用户引导
   - ⚙️ 系统设置
   - 📝 审计日志

### 2. 访问步骤
1. 使用管理员账号登录
2. 进入管理后台（`/admin/dashboard`）
3. 在左侧导航菜单中点击"知识库优化"
4. 即可使用 PersonaCraft AI 功能

## 功能说明

### 主要功能
1. **输入原始知识库**：在左侧文本框中粘贴或上传您的产品文档、品牌指南或角色简介
2. **生成智能体配置**：点击"生成智能体配置"按钮，系统会自动生成：
   - 系统提示词（System Prompt）
   - 优化后的知识库（Optimized Knowledge）
3. **优化助手**：使用右侧的聊天侧边栏，通过对话方式进一步优化内容

### 支持的文件格式
- .txt（文本文件）
- .md（Markdown文件）
- .json（JSON文件）
- .csv（CSV文件）

### 操作步骤
1. 在左侧输入框中粘贴或上传知识库内容
2. 点击"生成智能体配置"按钮
3. 在右侧查看生成的系统提示词和优化后的知识库
4. 使用右侧聊天侧边栏进一步优化内容
5. 可以复制或导出为 Markdown 文件

## 如果看不到菜单项

### 检查清单
1. ✅ **确保使用管理员账号登录**（role 必须是 'admin'）
2. ✅ **确保在管理后台**（URL 应该是 `/admin/dashboard`）
3. ✅ 刷新浏览器页面（Ctrl+R 或 Cmd+R）
4. ✅ 清除浏览器缓存
5. ✅ 重启前端开发服务器
6. ✅ 检查浏览器控制台是否有错误

### 权限要求
- 必须是管理员（`role: 'admin'`）
- 普通用户无法访问此功能

### 重启开发服务器
```bash
# 如果使用 npm
npm run dev

# 如果使用 yarn
yarn dev

# 如果使用 pnpm
pnpm dev
```

## 技术细节

- **后端API**：`/api/personacraft/generate` 和 `/api/personacraft/refine`
- **前端路由**：`AppRoute.PERSONACRAFT`
- **组件位置**：
  - `views/PersonaCraft.tsx` - 主视图
  - `components/PersonaCraftMainLayout.tsx` - 主布局
  - `components/PersonaCraftChatSidebar.tsx` - 聊天侧边栏

## 注意事项

- ⚠️ **仅限管理员使用**：此功能位于管理后台，只有管理员账号可以访问
- 需要配置 Gemini API Key（在系统设置中）
- 需要管理员登录才能使用
- 生成内容可能需要一些时间，请耐心等待
- 功能位置：管理后台 → 知识库优化标签页

